<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">

    <title>Detalle-POO-Grupo1</title>
</head>

<body class="container">
    </br>
   
    <!-- Detalle de Venta -->
    <h1>Detalle de Venta</h1>
    </br>
    <div class="card">
        <h5 class="card-header">Detalle de Venta</h5>
        
        <div class="container">
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">NÂ° Detalle</th>
                        <th scope="col">Id_Factura</th>
                        <th scope="col">Id_Producto</th>
                        <th scope="col">Cantidad </th>
                        <th scope="col">Precio</th>
                        

                                <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                    <li><a class="dropdown-item" href="#">Action</a></li>
                                    <li><a class="dropdown-item" href="#">Another action</a></li>
                                    <li><a class="dropdown-item" href="#">Something else here</a></li>
                                </ul>
                            </div>
                        </th>
                    </tr>
                </thead> 
                    <tbody id="tbDetalle">
                    </tbody>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
    <script>
        function fnGetDetalle(){
        const miTablaDetalle=document.getElementById("tbDetalle");

        fetch('https://localhost:5001/api/ListadoDetalle', 
        {mode:'cors' 
        })
            .then((response)=> {
            return response.json();
        })
        .then((datos)=>{
        console.log("Datos de la API")
        console.log(datos);
        
            datos.forEach(element => {
                const fila=document.createElement("tr");
                
                const colnum=document.createElement("td");
                colnum.innerHTML= element.num_detalle;

                const colid=document.createElement("td");
                colid.innerHTML= element.id_factura;

                const colidpro=document.createElement("td");
                colidpro.innerHTML= element.id_producto;

                const colcant=document.createElement("td");
                colcant.innerHTML= element.cantidad;

                const colprecio=document.createElement("td");
                colprecio.innerHTML= element.precio;

                fila.appendChild(colnum);
                fila.appendChild(colid);
                fila.appendChild(colidpro);
                fila.appendChild(colcant);
                fila.appendChild(colprecio);

                miTablaDetalle.appendChild(fila);

            });
        });
        }
        fnGetDetalle();
    </script>
        
</body>

</html>